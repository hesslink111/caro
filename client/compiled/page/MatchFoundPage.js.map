{"version":3,"sources":["../../src/page/MatchFoundPage.js"],"names":[],"mappings":"AAAA;;;;;;;;;;;;AACA,IAAM,SAAS,QAAQ,QAAR,CAAf;AACA,IAAM,WAAW,QAAQ,kBAAR,CAAjB;AACA,IAAM,eAAe,QAAQ,cAAR,CAArB;AACA,IAAM,cAAc,QAAQ,aAAR,CAApB;AACA,IAAM,iBAAiB,QAAQ,wBAAR,CAAvB;;IACM,c;;;;;;;;;;;mCACS;AACP,mGAAmB,2BAAnB;AACA,2BAAe,YAAf,CAA4B,uBAA5B,CAAoD,IAApD;AACA,2BAAe,YAAf,CAA4B,wBAA5B,CAAqD,IAArD;AACA,iBAAK,eAAL,GAAuB,IAAvB;AACA,iBAAK,MAAL,GAAc,SAAS,MAAT,CAAgB,WAAhB,EAAd;AACA,iBAAK,MAAL,CAAY,iBAAZ,CAA8B,IAA9B;AACH;;;mCACU;AACP,gBAAI,CAAC,KAAK,eAAV,EAA2B;AACvB,8BAAc,KAAK,UAAnB;AACH;AACD,iBAAK,MAAL,CAAY,oBAAZ,CAAiC,IAAjC;AACA,mGAAmB,2BAAnB;AACH;;;+CACsB,a,EAAe;AAAA;;AAClC,gBAAI,cAAc,IAAd,IAAsB,gBAA1B,EAA4C;AACxC,oBAAI,cAAc,cAAc,IAAd,CAAmB,WAArC;AACA,qBAAK,UAAL,GAAkB,cAAc,IAAhC;AACA,uGAAmB,wBAAnB;AACA,4GAAwB,0BAAxB,EAAoD,qBAAqB,KAAK,UAA9E;AACA,qBAAK,UAAL,GAAkB,YAAY,YAAM;AAChC,2BAAK,UAAL;AACA,wBAAI,OAAK,UAAL,IAAmB,CAAvB,EAA0B;AACtB,sCAAc,OAAK,UAAnB;AACA,wHAAwB,0BAAxB,EAAoD,mBAApD;AACH,qBAHD,MAIK;AACD,wHAAwB,0BAAxB,EAAoD,qBAAqB,OAAK,UAA9E;AACH;AACJ,iBATiB,EASf,IATe,CAAlB;AAUA,qBAAK,eAAL,GAAuB,KAAvB;AACH,aAhBD,MAiBK,IAAI,cAAc,IAAd,IAAsB,YAA1B,EAAwC;AACzC,6BAAa,UAAb,CAAwB,MAAxB,CAA+B,YAAY,SAA3C,EAAsD,IAAtD;AACH,aAFI,MAGA,IAAI,cAAc,IAAd,IAAsB,gBAA1B,EAA4C;AAC7C,6BAAa,UAAb,CAAwB,MAAxB,CAA+B,cAA/B,EAA+C,IAA/C;AACH;AACJ;;;yCACgB,CAChB;;;yCACgB,CAChB;;;;EA5CwB,OAAO,I;;AA8CpC,QAAQ,cAAR,GAAyB,cAAzB;AACA","file":"MatchFoundPage.js","sourcesContent":["\"use strict\";\nconst Page_1 = require(\"./Page\");\nconst Socket_1 = require(\"../socket/Socket\");\nconst PageLoader_1 = require(\"./PageLoader\");\nconst MatchPage_1 = require(\"./MatchPage\");\nconst PlayerHelper_1 = require(\"../player/PlayerHelper\");\nclass MatchFoundPage extends Page_1.Page {\n    showPage() {\n        super.showTemplate('match-found-page-main-row');\n        PlayerHelper_1.PlayerHelper.updateCurrentPlayerView(this);\n        PlayerHelper_1.PlayerHelper.updateOpponentPlayerView(this);\n        this.intervalCleared = true;\n        this.socket = Socket_1.Socket.getInstance();\n        this.socket.addSocketListener(this);\n    }\n    hidePage() {\n        if (!this.intervalCleared) {\n            clearInterval(this.intervalId);\n        }\n        this.socket.removeSocketListener(this);\n        super.hideTemplate('match-found-page-main-row');\n    }\n    onSocketObjectReceived(messageObject) {\n        if (messageObject.type == \"MatchStartInMs\") {\n            var startTimeMs = messageObject.data.startTimeMs;\n            this.startTimeS = startTimeMs / 1000;\n            super.showTemplate('match-start-count-down');\n            super.updateElementText('.match-count-down-header', 'Match starts in ' + this.startTimeS);\n            this.intervalId = setInterval(() => {\n                this.startTimeS--;\n                if (this.startTimeS == 0) {\n                    clearInterval(this.intervalId);\n                    super.updateElementText('.match-count-down-header', 'Starting match...');\n                }\n                else {\n                    super.updateElementText('.match-count-down-header', 'Match starts in ' + this.startTimeS);\n                }\n            }, 1000);\n            this.intervalCleared = false;\n        }\n        else if (messageObject.type == \"MatchStart\") {\n            PageLoader_1.PageLoader.render(MatchPage_1.MatchPage, this);\n        }\n        else if (messageObject.type == \"MatchCancelled\") {\n            PageLoader_1.PageLoader.render(MatchFoundPage, this);\n        }\n    }\n    onSocketClosed() {\n    }\n    onSocketOpened() {\n    }\n}\nexports.MatchFoundPage = MatchFoundPage;\n//# sourceMappingURL=MatchFoundPage.js.map"]}