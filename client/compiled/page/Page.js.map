{"version":3,"sources":["../../src/page/Page.js"],"names":[],"mappings":"AAAA;;;;;;AACA,IAAM,kBAAkB,QAAQ,uBAAR,CAAxB;AACA,IAAM,SAAS,QAAQ,yBAAR,CAAf;AACA,IAAM,aAAa,QAAQ,aAAR,CAAnB;;IACM,I;AACF,oBAAc;AAAA;;AACV,aAAK,iBAAL,GAAyB,IAAI,GAAJ,EAAzB;AACH;;;;gDACuB,Y,EAAc,uB,EAAyB,K,EAAO,O,EAAS;AAC3E,gBAAI,YAAY,KAAK,iBAAL,CAAuB,GAAvB,CAA2B,YAA3B,CAAhB;AACA,gBAAI,aAAa,IAAjB,EAAuB;AACnB,sBAAM,4CAA4C,YAA5C,GAA2D,YAAjE;AACH;AACD,sBAAU,OAAV,CAAkB,UAAC,QAAD,EAAc;AAC5B,oBAAI,WAAW,SAAS,UAAT,GAAsB,gBAAtB,CAAuC,uBAAvC,CAAf;AACA,qBAAK,IAAI,IAAI,CAAb,EAAgB,IAAI,SAAS,MAA7B,EAAqC,GAArC,EAA0C;AACtC,6BAAS,IAAT,CAAc,CAAd,EAAiB,gBAAjB,CAAkC,KAAlC,EAAyC,UAAC,KAAD,EAAW;AAChD,gCAAQ,MAAM,MAAd;AACH,qBAFD;AAGH;AACJ,aAPD;AAQH;;;qCACY,Y,EAAc;AAAA;;AACvB,gBAAI,gBAAgB,gBAAgB,aAAhB,CAA8B,gBAA9B,CAA+C,YAA/C,CAApB;AACA,gBAAI,cAAc,IAAd,MAAwB,CAA5B,EAA+B;AAC3B,sBAAM,uCAAuC,YAAvC,GAAsD,YAA5D;AACH;AACD,0BAAc,OAAd,CAAsB,UAAC,YAAD,EAAkB;AACpC,oBAAI,2BAA2B,aAAa,YAAb,CAA0B,iCAA1B,CAA/B;AACA,oBAAI,WAAW,IAAI,WAAW,QAAf,CAAwB,YAAxB,CAAf;AACA,oBAAI,wBAAJ,EAA8B;AAC1B,6BAAS,UAAT,GAAsB,YAAtB,CAAmC,wBAAnC,EAA6D,wBAA7D;AACH;AACD,oBAAI,eAAe,MAAK,iBAAL,CAAuB,GAAvB,CAA2B,YAA3B,CAAnB;AACA,oBAAI,gBAAgB,IAApB,EAA0B;AACtB,mCAAe,IAAI,OAAO,IAAX,EAAf;AACA,0BAAK,iBAAL,CAAuB,GAAvB,CAA2B,YAA3B,EAAyC,YAAzC;AACH;AACD,6BAAa,GAAb,CAAiB,QAAjB;AACA,6BAAa,aAAb,CAA2B,YAA3B,CAAwC,SAAS,UAAT,EAAxC,EAA+D,YAA/D;AACA,yBAAS,UAAT;AACA,sBAAK,iBAAL,CAAuB,SAAS,UAAT,EAAvB;AACH,aAfD;AAgBH;;;0CACiB,O,EAAS;AAAA;;AACvB,gBAAI,gBAAgB,gBAAgB,aAAhB,CAA8B,qBAA9B,CAAoD,OAApD,CAApB;AACA,0BAAc,OAAd,CAAsB,UAAC,YAAD,EAAkB;AACpC,oBAAI,wBAAwB,aAAa,YAAb,CAA0B,oBAA1B,CAA5B;AACA,oBAAI,8BAA8B,aAAa,YAAb,CAA0B,0BAA1B,CAAlC;AACA,oBAAI,2BAA2B,aAAa,YAAb,CAA0B,iCAA1B,CAA/B;AACA,oBAAI,2BAAJ,EAAiC;AAC7B;AACH;AACD,oBAAI,WAAW,IAAI,WAAW,QAAf,CAAwB,qBAAxB,CAAf;AACA,oBAAI,wBAAJ,EAA8B;AAC1B,6BAAS,UAAT,GAAsB,YAAtB,CAAmC,wBAAnC,EAA6D,wBAA7D;AACH;AACD,oBAAI,eAAe,OAAK,iBAAL,CAAuB,GAAvB,CAA2B,qBAA3B,CAAnB;AACA,oBAAI,gBAAgB,IAApB,EAA0B;AACtB,mCAAe,IAAI,OAAO,IAAX,EAAf;AACA,2BAAK,iBAAL,CAAuB,GAAvB,CAA2B,qBAA3B,EAAkD,YAAlD;AACH;AACD,6BAAa,GAAb,CAAiB,QAAjB;AACA,6BAAa,aAAb,CAA2B,YAA3B,CAAwC,SAAS,UAAT,EAAxC,EAA+D,YAA/D;AACA,yBAAS,UAAT;AACA,uBAAK,iBAAL,CAAuB,SAAS,UAAT,EAAvB;AACH,aApBD;AAqBH;;;qCACY,Y,EAAc;AACvB,gBAAI,YAAY,KAAK,iBAAL,CAAuB,GAAvB,CAA2B,YAA3B,CAAhB;AACA,gBAAI,aAAa,IAAjB,EAAuB;AACnB,sBAAM,yCAAyC,YAAzC,GAAwD,YAA9D;AACH;AACD,sBAAU,OAAV,CAAkB,UAAC,QAAD,EAAc;AAC5B,oBAAI,eAAe,SAAS,aAAT,CAAuB,KAAvB,CAAnB;AACA,6BAAa,YAAb,CAA0B,OAA1B,EAAmC,gBAAnC;AACA,6BAAa,YAAb,CAA0B,oBAA1B,EAAgD,YAAhD;AACA,oBAAI,SAAS,UAAT,GAAsB,wBAAtB,MAAoD,IAAxD,EAA8D;AAC1D,iCAAa,YAAb,CAA0B,iCAA1B,EAA6D,SAAS,UAAT,GAAsB,wBAAtB,CAA7D;AACH;AACD,yBAAS,UAAT,GAAsB,aAAtB,CAAoC,YAApC,CAAiD,YAAjD,EAA+D,SAAS,UAAT,EAA/D;AACH,aARD;AASH;;;2CACkB;AACf,iBAAK,iBAAL,CAAuB,OAAvB,CAA+B,UAAC,YAAD,EAAe,YAAf,EAAgC;AAC3D,6BAAa,OAAb,CAAqB,UAAC,QAAD,EAAc;AAC/B,wBAAI,eAAe,SAAS,aAAT,CAAuB,KAAvB,CAAnB;AACA,iCAAa,YAAb,CAA0B,OAA1B,EAAmC,gBAAnC;AACA,iCAAa,YAAb,CAA0B,oBAA1B,EAAgD,YAAhD;AACA,6BAAS,UAAT,GAAsB,aAAtB,CAAoC,YAApC,CAAiD,YAAjD,EAA+D,SAAS,UAAT,EAA/D;AACH,iBALD;AAMH,aAPD;AAQH;;;0CACiB,e,EAAiB,W,EAAa;AAC5C,gBAAI,cAAc,SAAS,gBAAT,CAA0B,eAA1B,CAAlB;AACA,gBAAI,YAAY,MAAZ,IAAsB,CAA1B,EAA6B;AACzB,sBAAM,uCAAuC,eAAvC,GAAyD,YAA/D;AACH;AACD,iBAAK,IAAI,IAAI,CAAb,EAAgB,IAAI,YAAY,MAAhC,EAAwC,GAAxC,EAA6C;AACzC,4BAAY,IAAZ,CAAiB,CAAjB,EAAoB,WAApB,GAAkC,WAAlC;AACH;AACJ;;;4CACmB,e,EAAiB,S,EAAW;AAC5C,gBAAI,UAAU,SAAS,aAAT,CAAuB,eAAvB,CAAd;AACA,gBAAI,WAAW,IAAf,EAAqB;AACjB,sBAAM,iCAAiC,eAAjC,GAAmD,sBAAzD;AACH;AACD,gBAAI,QAAQ,SAAR,KAAsB,IAA1B,EAAgC;AAC5B,sBAAM,8BAA8B,eAA9B,GAAgD,2BAAhD,GAA8E,SAApF;AACH;AACD,mBAAO,QAAQ,SAAR,CAAP;AACH;;;2CACkB,e,EAAiB,K,EAAO,K,EAAO;AAC9C,gBAAI,cAAc,SAAS,gBAAT,CAA0B,eAA1B,CAAlB;AACA,gBAAI,YAAY,MAAZ,IAAsB,CAA1B,EAA6B;AACzB,sBAAM,uCAAuC,eAAvC,GAAyD,YAA/D;AACH;AACD,iBAAK,IAAI,IAAI,CAAb,EAAgB,IAAI,YAAY,MAAhC,EAAwC,GAAxC,EAA6C;AACzC,oBAAI,YAAY,IAAZ,CAAiB,CAAjB,EAAoB,KAApB,CAA0B,KAA1B,MAAqC,SAAzC,EAAoD;AAChD,0BAAM,qCAAqC,KAArC,GAA6C,YAAnD;AACH;AACD,4BAAY,IAAZ,CAAiB,CAAjB,EAAoB,KAApB,CAA0B,KAA1B,IAAmC,KAAnC;AACH;AACJ;;;+CACsB,e,EAAiB,S,EAAW,K,EAAO;AACtD,gBAAI,cAAc,SAAS,gBAAT,CAA0B,eAA1B,CAAlB;AACA,gBAAI,YAAY,MAAZ,IAAsB,CAA1B,EAA6B;AACzB,sBAAM,uCAAuC,eAAvC,GAAyD,YAA/D;AACH;AACD,iBAAK,IAAI,IAAI,CAAb,EAAgB,IAAI,YAAY,MAAhC,EAAwC,GAAxC,EAA6C;AACzC,4BAAY,IAAZ,CAAiB,CAAjB,EAAoB,SAApB,IAAiC,KAAjC;AACH;AACJ;;;wCACe,e,EAAiB,S,EAAW;AACxC,gBAAI,cAAc,SAAS,gBAAT,CAA0B,eAA1B,CAAlB;AACA,gBAAI,YAAY,MAAZ,IAAsB,CAA1B,EAA6B;AACzB,sBAAM,kCAAkC,eAAlC,GAAoD,YAA1D;AACH;AACD,iBAAK,IAAI,IAAI,CAAb,EAAgB,IAAI,YAAY,MAAhC,EAAwC,GAAxC,EAA6C;AACzC,4BAAY,IAAZ,CAAiB,CAAjB,EAAoB,SAApB,CAA8B,GAA9B,CAAkC,SAAlC;AACH;AACJ;;;6CACoB,e,EAAiB,S,EAAW;AAC7C,gBAAI,UAAU,SAAS,aAAT,CAAuB,eAAvB,CAAd;AACA,gBAAI,WAAW,IAAf,EAAqB;AACjB,sBAAM,oCAAoC,eAApC,GAAsD,YAA5D;AACH;AACD,mBAAO,QAAQ,SAAR,CAAkB,QAAlB,CAA2B,SAA3B,CAAP;AACH;;;2CACkB,e,EAAiB,S,EAAW;AAC3C,gBAAI,cAAc,SAAS,gBAAT,CAA0B,eAA1B,CAAlB;AACA,gBAAI,YAAY,MAAZ,IAAsB,CAA1B,EAA6B;AACzB,sBAAM,qCAAqC,eAArC,GAAuD,YAA7D;AACH;AACD,iBAAK,IAAI,IAAI,CAAb,EAAgB,IAAI,YAAY,MAAhC,EAAwC,GAAxC,EAA6C;AACzC,4BAAY,IAAZ,CAAiB,CAAjB,EAAoB,SAApB,CAA8B,MAA9B,CAAqC,SAArC;AACH;AACJ;;;kCACS,a,EAAe;AACrB,gBAAI,CAAC,EAAE,aAAF,EAAiB,MAAtB,EAA8B;AAC1B,sBAAM,wBAAwB,aAAxB,GAAwC,qBAA9C;AACH;AACD,cAAE,aAAF,EAAiB,SAAjB,CAA2B;AACvB,6BAAa,KADU;AAEvB,yBAAS,EAFc;AAGvB,6BAAa,GAHU;AAIvB,8BAAc;AAJS,aAA3B;AAMH;;;kCACS,a,EAAe;AACrB,gBAAI,CAAC,EAAE,aAAF,EAAiB,MAAtB,EAA8B;AAC1B,sBAAM,wBAAwB,aAAxB,GAAwC,qBAA9C;AACH;AACD,cAAE,aAAF,EAAiB,UAAjB;AACH;;;;;;AAEL,QAAQ,IAAR,GAAe,IAAf;AACA","file":"Page.js","sourcesContent":["\"use strict\";\nconst TemplateUtils_1 = require(\"../util/TemplateUtils\");\nconst List_1 = require(\"../util/collection/List\");\nconst Template_1 = require(\"../Template\");\nclass Page {\n    constructor() {\n        this.templateInstances = new Map();\n    }\n    setTemplateEventHandler(templateName, templateElementSelector, event, handler) {\n        var templates = this.templateInstances.get(templateName);\n        if (templates == null) {\n            throw \"Could not set template event: Template \" + templateName + \" not found\";\n        }\n        templates.forEach((template) => {\n            var elements = template.getElement().querySelectorAll(templateElementSelector);\n            for (var i = 0; i < elements.length; i++) {\n                elements.item(i).addEventListener(event, (event) => {\n                    handler(event.target);\n                });\n            }\n        });\n    }\n    showTemplate(templateName) {\n        var dummyElements = TemplateUtils_1.TemplateUtils.getDummyElements(templateName);\n        if (dummyElements.size() == 0) {\n            throw \"Could not show template: Template \" + templateName + \" not found\";\n        }\n        dummyElements.forEach((dummyElement) => {\n            var templateInstanceIdentity = dummyElement.getAttribute(\"data-template-instance-identity\");\n            var template = new Template_1.Template(templateName);\n            if (templateInstanceIdentity) {\n                template.getElement().setAttribute(\"data-instance-identity\", templateInstanceIdentity);\n            }\n            var templateList = this.templateInstances.get(templateName);\n            if (templateList == null) {\n                templateList = new List_1.List();\n                this.templateInstances.set(templateName, templateList);\n            }\n            templateList.add(template);\n            dummyElement.parentElement.replaceChild(template.getElement(), dummyElement);\n            template.getElement();\n            this.showChildElements(template.getElement());\n        });\n    }\n    showChildElements(element) {\n        var dummyElements = TemplateUtils_1.TemplateUtils.getChildDummyElements(element);\n        dummyElements.forEach((dummyElement) => {\n            var templateNameAttribute = dummyElement.getAttribute(\"data-template-name\");\n            var templateNoAutoShowAttribute = dummyElement.getAttribute(\"data-template-noautoshow\");\n            var templateInstanceIdentity = dummyElement.getAttribute(\"data-template-instance-identity\");\n            if (templateNoAutoShowAttribute) {\n                return;\n            }\n            var template = new Template_1.Template(templateNameAttribute);\n            if (templateInstanceIdentity) {\n                template.getElement().setAttribute(\"data-instance-identity\", templateInstanceIdentity);\n            }\n            var templateList = this.templateInstances.get(templateNameAttribute);\n            if (templateList == null) {\n                templateList = new List_1.List();\n                this.templateInstances.set(templateNameAttribute, templateList);\n            }\n            templateList.add(template);\n            dummyElement.parentElement.replaceChild(template.getElement(), dummyElement);\n            template.getElement();\n            this.showChildElements(template.getElement());\n        });\n    }\n    hideTemplate(templateName) {\n        var templates = this.templateInstances.get(templateName);\n        if (templates == null) {\n            throw \"Could not remove template: Template \" + templateName + \" not found\";\n        }\n        templates.forEach((template) => {\n            var dummyElement = document.createElement(\"div\");\n            dummyElement.setAttribute(\"class\", \"template-dummy\");\n            dummyElement.setAttribute(\"data-template-name\", templateName);\n            if (template.getElement()['data-instance-identity'] !== null) {\n                dummyElement.setAttribute(\"data-template-instance-identity\", template.getElement()['data-instance-identity']);\n            }\n            template.getElement().parentElement.replaceChild(dummyElement, template.getElement());\n        });\n    }\n    hideAllTemplates() {\n        this.templateInstances.forEach((templateList, templateName) => {\n            templateList.forEach((template) => {\n                var dummyElement = document.createElement(\"div\");\n                dummyElement.setAttribute(\"class\", \"template-dummy\");\n                dummyElement.setAttribute(\"data-template-name\", templateName);\n                template.getElement().parentElement.replaceChild(dummyElement, template.getElement());\n            });\n        });\n    }\n    updateElementText(elementSelector, updatedText) {\n        var elementList = document.querySelectorAll(elementSelector);\n        if (elementList.length == 0) {\n            throw \"Could not update element: Element \" + elementSelector + \" not found\";\n        }\n        for (var i = 0; i < elementList.length; i++) {\n            elementList.item(i).textContent = updatedText;\n        }\n    }\n    getElementAttribute(elementSelector, attribute) {\n        var element = document.querySelector(elementSelector);\n        if (element == null) {\n            throw \"Could not get element text: \" + elementSelector + \" could not be found.\";\n        }\n        if (element[attribute] == null) {\n            throw \"Could not get attribute: \" + elementSelector + \" does not have attribute \" + attribute;\n        }\n        return element[attribute];\n    }\n    updateElementStyle(elementSelector, style, value) {\n        var elementList = document.querySelectorAll(elementSelector);\n        if (elementList.length == 0) {\n            throw \"Could not update element: Element \" + elementSelector + \" not found\";\n        }\n        for (var i = 0; i < elementList.length; i++) {\n            if (elementList.item(i).style[style] === undefined) {\n                throw \"Could not update element style: \" + style + \" not valid\";\n            }\n            elementList.item(i).style[style] = value;\n        }\n    }\n    updateElementAttribute(elementSelector, attribute, value) {\n        var elementList = document.querySelectorAll(elementSelector);\n        if (elementList.length == 0) {\n            throw \"Could not update element: Element \" + elementSelector + \" not found\";\n        }\n        for (var i = 0; i < elementList.length; i++) {\n            elementList.item(i)[attribute] = value;\n        }\n    }\n    addElementClass(elementSelector, className) {\n        var elementList = document.querySelectorAll(elementSelector);\n        if (elementList.length == 0) {\n            throw \"Could not add class: Element \" + elementSelector + \" not found\";\n        }\n        for (var i = 0; i < elementList.length; i++) {\n            elementList.item(i).classList.add(className);\n        }\n    }\n    checkElementHasClass(elementSelector, className) {\n        var element = document.querySelector(elementSelector);\n        if (element == null) {\n            throw \"Could not check class: Element \" + elementSelector + \" not found\";\n        }\n        return element.classList.contains(className);\n    }\n    removeElementClass(elementSelector, className) {\n        var elementList = document.querySelectorAll(elementSelector);\n        if (elementList.length == 0) {\n            throw \"Could not remove class: Element \" + elementSelector + \" not found\";\n        }\n        for (var i = 0; i < elementList.length; i++) {\n            elementList.item(i).classList.remove(className);\n        }\n    }\n    showModal(modalSelector) {\n        if (!$(modalSelector).length) {\n            throw \"Cannot show modal: \" + modalSelector + \" could not be found\";\n        }\n        $(modalSelector).openModal({\n            dismissible: false,\n            opacity: .5,\n            in_duration: 300,\n            out_duration: 200,\n        });\n    }\n    hideModal(modalSelector) {\n        if (!$(modalSelector).length) {\n            throw \"Cannot hide modal: \" + modalSelector + \" could not be found\";\n        }\n        $(modalSelector).closeModal();\n    }\n}\nexports.Page = Page;\n//# sourceMappingURL=Page.js.map"]}